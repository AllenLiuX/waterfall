"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.export?module.exports=e:t.waterfall=e}(window,function(t){var o,e,d,n,a,c,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=i.spacing||10,r=i.minWidth||350,l=i.datas||null,s=i.bgColor||"#CCCCCC",u=function(){var e="";l.forEach(function(t){e+='\n                <div class="fall-item" '+(t.color?"data-color='"+t.color+"'":"")+' >\n                    <img data-width="'+t.width+'" data-height="'+t.height+'" data-src="'+t.url+'" style="display: block; width: 100%; max-width: 100%;" />\n                </div>\n            '}),o.innerHTML=e},h=function(t){return parseInt(t)+"px"},y=function(){(n=Math.floor((o.clientWidth-f)/(r+f)))<1&&(n=1),a=Math.floor((o.clientWidth-f)/n-f),e.length<n&&(n=e.length,a=Math.floor((o.clientWidth-f)/n-f)),c={};for(var t=0;t<n;t++)c[t]=f;!function(){e.forEach(function(t){var e=t.querySelector("img"),o=t.dataset.color||s,n=e.dataset.width,i=e.dataset.height*(a/n);0<=o.indexOf("0x")&&(o="#"+o.substring(o.length-6));var r=function(t){var e=0;for(var o in t)t[o]<t[e]&&(e=o);return e}(c),l=c[r]||0;t.style.position="absolute",t.style.top=h(l),t.style.left=h((a+f)*r+f),t.style.width=h(a),t.style.height=h(i),t.style.backgroundColor=o,c[r]=l+i+f});var t=function(t){var e=0;for(var o in t)t[o]>t[e]&&(e=o);return e}(c);o.style.height=h(c[t])}()},g=function(){var t,e,o,n,i,r,l;if(!(d.length<1))for(var a=d.length;a--;)i=d[a],void 0,r=i.getBoundingClientRect(),l=window.innerHeight,r.top<=l&&(t=d[a],e=a,o=void 0,o=t.querySelector("img"),n=o.dataset.src,o.src=n,d.splice(e,1))};t&&"string"==typeof t&&(o=document.querySelector(t),l&&0<l.length&&(o.innerHTML="",u()),e=Array.from(o.children),d=e.concat(),e.length&&(o.style.position="relative",window.addEventListener("resize",y),window.addEventListener("scroll",g),y(),g()))});