"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,o){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.export?module.exports=o:t.waterfall=o}(window,function(t){var e,o,c,n,a,d,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=i.spacing||10,r=i.minWidth||350,l=i.datas||null,u=i.bgColor||"#CCCCCC",s=function(){var o="";l.forEach(function(t){o+='\n                <div class="fall-item" '+(t.color?"data-color='"+t.color+"'":"")+' >\n                    <img data-width="'+t.width+'" data-height="'+t.height+'" data-src="'+t.url+'" style="display: block; width: 100%; max-width: 100%;" />\n                </div>\n            '}),e.innerHTML=o},h=function(t){return parseInt(t)+"px"},y=function(){(n=Math.floor((e.clientWidth-f)/(r+f)))<1&&(n=1),a=Math.floor((e.clientWidth-f)/n-f),o.length<n&&(n=o.length,a=Math.floor((e.clientWidth-f)/n-f)),d={};for(var t=0;t<n;t++)d[t]=f;!function(){o.forEach(function(t){var o=t.querySelector("img"),e=t.dataset.color||u,n=o.dataset.width,i=o.dataset.height*(a/n);0<=e.indexOf("0x")&&(e="#"+e.substring(e.length-6));var r=function(t){var o=0;for(var e in t)t[e]<t[o]&&(o=e);return o}(d),l=d[r]||0;t.style.position="absolute",t.style.top=h(l),t.style.left=h((a+f)*r+f),t.style.width=h(a),t.style.height=h(i),t.style.backgroundColor=e,d[r]=l+i+f});var t=function(t){var o=0;for(var e in t)t[e]>t[o]&&(o=e);return o}(d);e.style.height=h(d[t])}()},g=function(){var t,o,e,n,i,r,l;if(!(c.length<1))for(var a=c.length;a--;)i=c[a],void 0,r=i.getBoundingClientRect(),l=window.innerHeight,r.top<=l&&(t=c[a],o=a,e=void 0,e=t.querySelector("img"),n=e.dataset.src,e.src=n,c.splice(o,1))};t&&"string"==typeof t&&(e=document.querySelector(t),l&&0<l.length&&(e.innerHTML="",s()),o=Array.from(e.children),c=o.concat(),o.length&&(e.style.position="relative",window.onresize=y,window.onscroll=g,y(),g()))});